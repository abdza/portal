<!DOCTYPE html>
<html layout:decorate="~{layout/base}">
<th:block layout:fragment="theme-css">
	<link rel="stylesheet" th:href="@{/libs/ace/css/ace-font.min.css}" />
	<link rel="stylesheet" th:href="@{/libs/ace/css/ace.min.css}" />
	<link rel="stylesheet" th:href="@{/libs/portal/portal.css}" />
</th:block>
<th:block layout:fragment="head-end">
	<link rel="stylesheet" th:href="@{/libs/tagify/tagify.css}" />
	<link rel="stylesheet" th:href="@{/libs/select2/css/select2.min.css}" />
	<link rel="stylesheet" th:href="@{/libs/fancytree/skin-lion/ui.fancytree.css}" />
	<link rel="stylesheet" th:href="@{/libs/jquery-ui/jquery-ui.min.css}"></script>
	<style>
	@media screen and (max-width: 767px) {
		.select2 {
			width: 100% !important;
		}
	}
	</style>
</th:block>

<div layout:fragment="body-container" class="body-container">

	<div th:replace="~{interface/navbar}">
	</div>

	<div class="main-container">

		<div th:replace="~{interface/sidebar}">
		</div>
		
		<div class="main-content" role="main">
			<div class="page-content container">
				<section layout:fragment="content"></section>
			</div>
			<!-- /.page-content -->
		</div>

	</div>
	
	<div th:replace="~{interface/footer}">
	</div>

</div>

<th:block layout:fragment="layout-javascript">
<script type="text/javascript" th:src="@{/libs/jquery-ui/jquery-ui.min.js}"></script>
<script type="text/javascript" th:src="@{/libs/fancytree/modules/jquery.fancytree.ui-deps.js}"></script>
<script type="text/javascript" th:src="@{/libs/fancytree/jquery.fancytree.min.js}"></script>

<script type="text/javascript" th:src="@{/libs/fancytree/modules/jquery.fancytree.dnd5.js}"></script>
<script type="text/javascript" th:src="@{/libs/fancytree/modules/jquery.fancytree.filter.js}"></script>

<script type="text/javascript" th:src="@{/libs/select2/js/select2.full.min.js}"></script>
<script type="text/javascript" th:src="@{/libs/tagify/jQuery.tagify.min.js}"></script>

<script type="text/javascript" th:src="@{/libs/ace/js/ace.js}"></script>

<script type="text/javascript">
$(".tagifinput").each(function(i,obj){
	var whitelist = $(this).data("tagify-whitelist").split(",");
	$(this).tagify({enforceWhitelist:true,whitelist:whitelist});
});
$(".tagiform").on("submit",function(){
	$(".tagifinput").each(function(i,obj){
		if($(this).is("textarea")||$(this).is("input")){
			var jsonval = JSON.parse($(this).val());
			var jvalue = [];
			for(var i=0; i<jsonval.length; i++){
				jvalue.push(jsonval[i].value)
			}
			$(this).val(jvalue.join(","));
		}
	});
});
</script>
</th:block>
</html>